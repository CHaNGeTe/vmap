!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream"),require("string_decoder")):"function"==typeof define&&define.amd?define(["stream","string_decoder"],t):e.sd=t(e.stream,e.string_decoder)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i,n,r,a=(function(i,n){!function(i){i.parser=function(e,t){return new a(e,t)},i.SAXParser=a,i.SAXStream=o,i.createStream=function(e,t){return new o(e,t)},i.MAX_BUFFER_LENGTH=65536;var n,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(e,t){if(!(this instanceof a))return new a(e,t);var n=this;!function(e){for(var t=0,i=r.length;t<i;t++)e[r[t]]=""}(n),n.q=n.c="",n.bufferCheckPosition=i.MAX_BUFFER_LENGTH,n.opt=t||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!e,n.noscript=!(!e&&!n.opt.noscript),n.state=x.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(d)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),I(n,"onready")}i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),a.prototype={end:function(){N(this)},write:function(e){var t=this;if(this.error)throw this.error;if(t.closed)return S(t,"Cannot write after close. Assign an onready handler.");if(null===e)return N(t);"object"==typeof e&&(e=e.toString());var n=0,a="";for(;a=R(e,n++),t.c=a,a;)switch(t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++),t.state){case x.BEGIN:if(t.state=x.BEGIN_WHITESPACE,"\ufeff"===a)continue;B(t,a);continue;case x.BEGIN_WHITESPACE:B(t,a);continue;case x.TEXT:if(t.sawRoot&&!t.closedRoot){for(var s=n-1;a&&"<"!==a&&"&"!==a;)(a=R(e,n++))&&t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(s,n-1)}"<"!==a||t.sawRoot&&t.closedRoot&&!t.strict?(f(a)||t.sawRoot&&!t.closedRoot||P(t,"Text data outside of root node."),"&"===a?t.state=x.TEXT_ENTITY:t.textNode+=a):(t.state=x.OPEN_WAKA,t.startTagPosition=t.position);continue;case x.SCRIPT:"<"===a?t.state=x.SCRIPT_ENDING:t.script+=a;continue;case x.SCRIPT_ENDING:"/"===a?t.state=x.CLOSE_TAG:(t.script+="<"+a,t.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===a)t.state=x.SGML_DECL,t.sgmlDecl="";else if(f(a));else if(T(h,a))t.state=x.OPEN_TAG,t.tagName=a;else if("/"===a)t.state=x.CLOSE_TAG,t.tagName="";else if("?"===a)t.state=x.PROC_INST,t.procInstName=t.procInstBody="";else{if(P(t,"Unencoded <"),t.startTagPosition+1<t.position){var o=t.position-t.startTagPosition;a=new Array(o).join(" ")+a}t.textNode+="<"+a,t.state=x.TEXT}continue;case x.SGML_DECL:(t.sgmlDecl+a).toUpperCase()===l?(_(t,"onopencdata"),t.state=x.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+a==="--"?(t.state=x.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+a).toUpperCase()===c?(t.state=x.DOCTYPE,(t.doctype||t.sawRoot)&&P(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===a?(_(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=x.TEXT):v(a)?(t.state=x.SGML_DECL_QUOTED,t.sgmlDecl+=a):t.sgmlDecl+=a;continue;case x.SGML_DECL_QUOTED:a===t.q&&(t.state=x.SGML_DECL,t.q=""),t.sgmlDecl+=a;continue;case x.DOCTYPE:">"===a?(t.state=x.TEXT,_(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=a,"["===a?t.state=x.DOCTYPE_DTD:v(a)&&(t.state=x.DOCTYPE_QUOTED,t.q=a));continue;case x.DOCTYPE_QUOTED:t.doctype+=a,a===t.q&&(t.q="",t.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:t.doctype+=a,"]"===a?t.state=x.DOCTYPE:v(a)&&(t.state=x.DOCTYPE_DTD_QUOTED,t.q=a);continue;case x.DOCTYPE_DTD_QUOTED:t.doctype+=a,a===t.q&&(t.state=x.DOCTYPE_DTD,t.q="");continue;case x.COMMENT:"-"===a?t.state=x.COMMENT_ENDING:t.comment+=a;continue;case x.COMMENT_ENDING:"-"===a?(t.state=x.COMMENT_ENDED,t.comment=k(t.opt,t.comment),t.comment&&_(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+a,t.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==a?(P(t,"Malformed comment"),t.comment+="--"+a,t.state=x.COMMENT):t.state=x.TEXT;continue;case x.CDATA:"]"===a?t.state=x.CDATA_ENDING:t.cdata+=a;continue;case x.CDATA_ENDING:"]"===a?t.state=x.CDATA_ENDING_2:(t.cdata+="]"+a,t.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===a?(t.cdata&&_(t,"oncdata",t.cdata),_(t,"onclosecdata"),t.cdata="",t.state=x.TEXT):"]"===a?t.cdata+="]":(t.cdata+="]]"+a,t.state=x.CDATA);continue;case x.PROC_INST:"?"===a?t.state=x.PROC_INST_ENDING:f(a)?t.state=x.PROC_INST_BODY:t.procInstName+=a;continue;case x.PROC_INST_BODY:if(!t.procInstBody&&f(a))continue;"?"===a?t.state=x.PROC_INST_ENDING:t.procInstBody+=a;continue;case x.PROC_INST_ENDING:">"===a?(_(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=x.TEXT):(t.procInstBody+="?"+a,t.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:T(y,a)?t.tagName+=a:(L(t),">"===a?O(t):"/"===a?t.state=x.OPEN_TAG_SLASH:(f(a)||P(t,"Invalid character in tag name"),t.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===a?(O(t,!0),V(t)):(P(t,"Forward-slash in opening tag not followed by >"),t.state=x.ATTRIB);continue;case x.ATTRIB:if(f(a))continue;">"===a?O(t):"/"===a?t.state=x.OPEN_TAG_SLASH:T(h,a)?(t.attribName=a,t.attribValue="",t.state=x.ATTRIB_NAME):P(t,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===a?t.state=x.ATTRIB_VALUE:">"===a?(P(t,"Attribute without value"),t.attribValue=t.attribName,D(t),O(t)):f(a)?t.state=x.ATTRIB_NAME_SAW_WHITE:T(y,a)?t.attribName+=a:P(t,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===a)t.state=x.ATTRIB_VALUE;else{if(f(a))continue;P(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",_(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===a?O(t):T(h,a)?(t.attribName=a,t.state=x.ATTRIB_NAME):(P(t,"Invalid attribute name"),t.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(f(a))continue;v(a)?(t.q=a,t.state=x.ATTRIB_VALUE_QUOTED):(P(t,"Unquoted attribute value"),t.state=x.ATTRIB_VALUE_UNQUOTED,t.attribValue=a);continue;case x.ATTRIB_VALUE_QUOTED:if(a!==t.q){"&"===a?t.state=x.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=a;continue}D(t),t.q="",t.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:f(a)?t.state=x.ATTRIB:">"===a?O(t):"/"===a?t.state=x.OPEN_TAG_SLASH:T(h,a)?(P(t,"No whitespace between attributes"),t.attribName=a,t.attribValue="",t.state=x.ATTRIB_NAME):P(t,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(">"!==(d=a)&&!f(d)){"&"===a?t.state=x.ATTRIB_VALUE_ENTITY_U:t.attribValue+=a;continue}D(t),">"===a?O(t):t.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(t.tagName)">"===a?V(t):T(y,a)?t.tagName+=a:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=x.SCRIPT):(f(a)||P(t,"Invalid tagname in closing tag"),t.state=x.CLOSE_TAG_SAW_WHITE);else{if(f(a))continue;T(h,a)?t.tagName=a:t.script?(t.script+="</"+a,t.state=x.SCRIPT):P(t,"Invalid tagname in closing tag.")}continue;case x.CLOSE_TAG_SAW_WHITE:if(f(a))continue;">"===a?V(t):P(t,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var u,p;switch(t.state){case x.TEXT_ENTITY:u=x.TEXT,p="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:u=x.ATTRIB_VALUE_QUOTED,p="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:u=x.ATTRIB_VALUE_UNQUOTED,p="attribValue"}";"===a?(t[p]+=M(t),t.entity="",t.state=u):T(t.entity.length?g:m,a)?t.entity+=a:(P(t,"Invalid character in entity name"),t[p]+="&"+t.entity+a,t.entity="",t.state=u);continue;default:throw new Error(t,"Unknown state: "+t.state)}var d;t.position>=t.bufferCheckPosition&&function(e){for(var t=Math.max(i.MAX_BUFFER_LENGTH,10),n=0,a=0,s=r.length;a<s;a++){var o=e[r[a]].length;if(o>t)switch(r[a]){case"textNode":C(e);break;case"cdata":_(e,"oncdata",e.cdata),e.cdata="";break;case"script":_(e,"onscript",e.script),e.script="";break;default:S(e,"Max buffer length exceeded: "+r[a])}n=Math.max(n,o)}var l=i.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}(t);return t},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;C(e=this),""!==e.cdata&&(_(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(_(e,"onscript",e.script),e.script="")}};try{n=e.Stream}catch(e){n=function(){}}var s=i.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function o(e,t){if(!(this instanceof o))return new o(e,t);n.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,s.forEach(function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})})}o.prototype=Object.create(n.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var i=t.StringDecoder;this._decoder=new i("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,t){var i=this;return i._parser["on"+e]||-1===s.indexOf(e)||(i._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),i.emit.apply(i,t)}),n.prototype.on.call(i,e,t)};var l="[CDATA[",c="DOCTYPE",u="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",d={xml:u,xmlns:p},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function v(e){return'"'===e||"'"===e}function T(e,t){return e.test(t)}var b,E,A,x=0;i.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(i.ENTITIES).forEach(function(e){var t=i.ENTITIES[e],n="number"==typeof t?String.fromCharCode(t):t;i.ENTITIES[e]=n});for(var w in i.STATE)i.STATE[i.STATE[w]]=w;function I(e,t,i){e[t]&&e[t](i)}function _(e,t,i){e.textNode&&C(e),I(e,t,i)}function C(e){e.textNode=k(e.opt,e.textNode),e.textNode&&I(e,"ontext",e.textNode),e.textNode=""}function k(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function S(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,I(e,"onerror",t),e}function N(e){return e.sawRoot&&!e.closedRoot&&P(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&S(e,"Unexpected end"),C(e),e.c="",e.closed=!0,I(e,"onend"),a.call(e,e.strict,e.opt),e}function P(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&S(e,t)}function L(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,i=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(i.ns=t.ns),e.attribList.length=0,_(e,"onopentagstart",i)}function F(e,t){var i=e.indexOf(":")<0?["",e]:e.split(":"),n=i[0],r=i[1];return t&&"xmlns"===e&&(n="xmlns",r=""),{prefix:n,local:r}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=F(e.attribName,!0),i=t.prefix,n=t.local;if("xmlns"===i)if("xml"===n&&e.attribValue!==u)P(e,"xml: prefix must be bound to "+u+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==p)P(e,"xmlns: prefix must be bound to "+p+"\nActual: "+e.attribValue);else{var r=e.tag,a=e.tags[e.tags.length-1]||e;r.ns===a.ns&&(r.ns=Object.create(a.ns)),r.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,_(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function O(e,t){if(e.opt.xmlns){var i=e.tag,n=F(e.tagName);i.prefix=n.prefix,i.local=n.local,i.uri=i.ns[n.prefix]||"",i.prefix&&!i.uri&&(P(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),i.uri=n.prefix);var r=e.tags[e.tags.length-1]||e;i.ns&&r.ns!==i.ns&&Object.keys(i.ns).forEach(function(t){_(e,"onopennamespace",{prefix:t,uri:i.ns[t]})});for(var a=0,s=e.attribList.length;a<s;a++){var o=e.attribList[a],l=o[0],c=o[1],u=F(l,!0),p=u.prefix,d=u.local,h=""===p?"":i.ns[p]||"",y={name:l,value:c,prefix:p,local:d,uri:h};p&&"xmlns"!==p&&!h&&(P(e,"Unbound namespace prefix: "+JSON.stringify(p)),y.uri=p),e.tag.attributes[l]=y,_(e,"onattribute",y)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),_(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function V(e){if(!e.tagName)return P(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);_(e,"onscript",e.script),e.script=""}var t=e.tags.length,i=e.tagName;e.strict||(i=i[e.looseCase]());for(var n=i;t--;){if(e.tags[t].name===n)break;P(e,"Unexpected close tag")}if(t<0)return P(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=i;for(var r=e.tags.length;r-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,_(e,"onclosetag",e.tagName);var s={};for(var o in a.ns)s[o]=a.ns[o];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach(function(t){var i=a.ns[t];_(e,"onclosenamespace",{prefix:t,uri:i})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function M(e){var t,i=(e=rd).entity,n=i.toLowerCase(),r="";return e.ENTITIES[i]?e.ENTITIES[i]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(i=n).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),r=(t=parseInt(i,16)).toString(16)):(i=i.slice(1),r=(t=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(t)||r.toLowerCase()!==i?(P(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):f(t)||(P(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function R(e,t){var i="";return t<e.length&&(i=e.charAt(t)),i}x=i.STATE,String.fromCodePoint||(b=String.fromCharCode,E=Math.floor,A=function(){var e,t,i=[],n=-1,r=arguments.length;if(!r)return"";for(var a="";++n<r;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||s>1114111||E(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?i.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,i.push(e,t)),(n+1===r||i.length>16384)&&(a+=b.apply(null,i),i.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:A,configurable:!0,writable:!0}):String.fromCodePoint=A)}(n)}(i={exports:{}},i.exports),i.exports),s={copyOptions:function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},o=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},l=o;function c(e,t){var i;if(n.compact){if(!r[n[e+"Key"]]&&n.alwaysArray&&(r[n[e+"Key"]]=[]),r[n[e+"Key"]]&&!l(r[n[e+"Key"]])&&(r[n[e+"Key"]]=[r[n[e+"Key"]]]),e+"Fn"in n&&"string"==typeof t&&(t=n[e+"Fn"](t,r)),"instruction"===e&&("instructionFn"in n||"instructionNameFn"in n))for(i in t)if(t.hasOwnProperty(i))if("instructionFn"in n)t[i]=n.instructionFn(t[i],i,r);else{var a=t[i];delete t[i],t[n.instructionNameFn(i,a,r)]=a}l(r[n[e+"Key"]])?r[n[e+"Key"]].push(t):r[n[e+"Key"]]=t}else{r[n.elementsKey]||(r[n.elementsKey]=[]);var s={};if(s[n.typeKey]=e,"instruction"===e){for(i in t)if(t.hasOwnProperty(i))break;s[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(i,t,r):i,n.instructionHasAttributes?(s[n.attributesKey]=t[i][n.attributesKey],"instructionFn"in n&&(s[n.attributesKey]=n.instructionFn(s[n.attributesKey],i,r))):("instructionFn"in n&&(t[i]=n.instructionFn(t[i],i,r)),s[n.instructionKey]=t[i])}else e+"Fn"in n&&(t=n[e+"Fn"](t,r)),s[n[e+"Key"]]=t;n.addParent&&(s[n.parentKey]=r),r[n.elementsKey].push(s)}}function u(e){var t;if("attributesFn"in n&&e&&(e=n.attributesFn(e,r)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n)&&e)for(t in e)if(e.hasOwnProperty(t)&&(n.trim&&(e[t]=e[t].trim()),"attributeValueFn"in n&&(e[t]=n.attributeValueFn(e[t],t,r)),"attributeNameFn"in n)){var i=e[t];delete e[t],e[n.attributeNameFn(t,e[t],r)]=i}return e}function p(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||n.instructionHasAttributes)){for(var i,a=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(i=a.exec(e.body));)t[i[1]]=i[2]||i[3]||i[4];t=u(t)}if("xml"===e.name.toLowerCase()){if(n.ignoreDeclaration)return;r[n.declarationKey]={},Object.keys(t).length&&(r[n.declarationKey][n.attributesKey]=t),n.addParent&&(r[n.declarationKey][n.parentKey]=r)}else{if(n.ignoreInstruction)return;n.trim&&(e.body=e.body.trim());var s={};n.instructionHasAttributes&&Object.keys(t).length?(s[e.name]={},s[e.name][n.attributesKey]=t):s[e.name]=e.body,c("instruction",s)}}function d(e,t){var i;if("object"==typeof e&&(t=e.attributes,e=e.name),t=u(t),"elementNameFn"in n&&(e=n.elementNameFn(e,r)),n.compact){if(i={},!n.ignoreAttributes&&t&&Object.keys(t).length){var a;i[n.attributesKey]={};for(a in t)t.hasOwnProperty(a)&&(i[n.attributesKey][a]=t[a])}e in r||!n.alwaysArray||(r[e]=[]),r[e]&&!l(r[e])&&(r[e]=[r[e]]),l(r[e])?r[e].push(i):r[e]=i}else r[n.elementsKey]||(r[n.elementsKey]=[]),(i={})[n.typeKey]="element",i[n.nameKey]=e,!n.ignoreAttributes&&t&&Object.keys(t).length&&(i[n.attributesKey]=t),n.alwaysChildren&&(i[n.elementsKey]=[]),r[n.elementsKey].push(i);i[n.parentKey]=r,r=i}function h(e){n.ignoreText||(e.trim()||n.captureSpacesBetweenElements)&&(n.trim&&(e=e.trim()),n.nativeType&&(e=function(e){var t=Number(e);if(!isNaN(t))return t;var i=e.toLowerCase();return"true"===i||"false"!==i&&e}(e)),n.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",e))}function y(e){n.ignoreComment||(n.trim&&(e=e.trim()),c("comment",e))}function m(e){var t=r[n.parentKey];n.addParent||delete r[n.parentKey],r=t}function g(e){n.ignoreCdata||(n.trim&&(e=e.trim()),c("cdata",e))}function f(e){n.ignoreDoctype||(e=e.replace(/^ /,""),n.trim&&(e=e.trim()),c("doctype",e))}function v(e){e.note=e}var T=function(e,t){var i,o=a.parser(!0,{}),l={};if(r=l,i=t,n=s.copyOptions(i),s.ensureFlagExists("ignoreDeclaration",n),s.ensureFlagExists("ignoreInstruction",n),s.ensureFlagExists("ignoreAttributes",n),s.ensureFlagExists("ignoreText",n),s.ensureFlagExists("ignoreComment",n),s.ensureFlagExists("ignoreCdata",n),s.ensureFlagExists("ignoreDoctype",n),s.ensureFlagExists("compact",n),s.ensureFlagExists("alwaysArray",n),s.ensureFlagExists("alwaysChildren",n),s.ensureFlagExists("addParent",n),s.ensureFlagExists("trim",n),s.ensureFlagExists("nativeType",n),s.ensureFlagExists("sanitize",n),s.ensureFlagExists("instructionHasAttributes",n),s.ensureFlagExists("captureSpacesBetweenElements",n),s.ensureKeyExists("declaration",n),s.ensureKeyExists("instruction",n),s.ensureKeyExists("attributes",n),s.ensureKeyExists("text",n),s.ensureKeyExists("comment",n),s.ensureKeyExists("cdata",n),s.ensureKeyExists("doctype",n),s.ensureKeyExists("type",n),s.ensureKeyExists("name",n),s.ensureKeyExists("elements",n),s.ensureKeyExists("parent",n),s.checkFnExists("doctype",n),s.checkFnExists("instruction",n),s.checkFnExists("cdata",n),s.checkFnExists("comment",n),s.checkFnExists("text",n),s.checkFnExists("instructionName",n),s.checkFnExists("elementName",n),s.checkFnExists("attributeName",n),s.checkFnExists("attributeValue",n),s.checkFnExists("attributes",n),n=n,o.onopentag=d,o.ontext=h,o.oncomment=y,o.onclosetag=m,o.onerror=v,o.oncdata=g,o.ondoctype=f,o.onprocessinginstruction=p,o.write(e).close(),l[n.elementsKey]){var c=l[n.elementsKey];delete l[n.elementsKey],l[n.elementsKey]=c,delete l.text}return l};var b,E,A,x,w,I,_,C,k,S,N,P=function(e,t){var i,n,r,a,o;return a=t,o=s.copyOptions(a),s.ensureSpacesExists(o),n=T(e,i=o),r="compact"in i&&i.compact?"_parent":"parent",("addParent"in i&&i.addParent?JSON.stringify(n,function(e,t){return e===r?"_":t},i.spaces):JSON.stringify(n,null,i.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};(E=b||(b={})).inline="inline",E.wrapper="wrapper",(x=A||(A={})).cpc="cpc",x.cpm="cpm",x.cpe="cpe",x.cpv="cpv",(w||(w={})).linear="linear",(_=I||(I={})).creativeView="creativeView",_.start="start",_.firstQuartile="firstQuartile",_.midpoint="midpoint",_.thirdQuartile="thirdQuartile",_.complete="complete",_.mute="mute",_.unmute="unmute",_.pause="pause",_.rewind="rewind",_.resume="resume",_.fullscreen="fullscreen",_.exitFullscreen="exitFullscreen",_.expand="expand",_.collapse="collapse",_.acceptInvitation="acceptInvitation",_.close="close",_.skip="skip",_.progress="progress",(k=C||(C={})).IMAGE_GIF="image/gif",k.IMAGE_PNG="image/png",k.IMAGE_JPEG="image/jpeg",k.VIDEO_MP4="video/mp4",(N=S||(S={}))[N.streaming=1]="streaming",N[N.progressive=2]="progressive";var L,F,D,O,V,M,B,R,G,U,K=function(){function e(e){e&&(this.xml=e)}return e.prototype.JSON=function(e){if(!e&&!this.xml)throw"XML input is required.";var t=e||this.xml,i=P(t,{compact:!0,spaces:4}),n=JSON.parse(i).VMAP;return{version:this.getVersion(n),breaks:n.AdBreak.map(this.getBreaks.bind(this))}},e.prototype.getVersion=function(e){return e._attributes?e._attributes.version:null},e.prototype.getBreaks=function(e){return{breakTypes:[e._attributes?e._attributes.breakType:null],breakId:e._attributes?e._attributes.breakId:null,timeOffset:e._attributes?e._attributes.timeOffset:null,adSource:{id:e.AdSource._attributes?e.AdSource._attributes.id:null,VASTAdData:this.parseVASTAdDataAds(e.AdSource.VASTAdData.VAST),adDataType:e.AdSource.adDataType,adTagURI:e.AdSource.adTagURL,allowMultipleAds:e.AdSource.allowMultipleAds,dataType:e.AdSource._attributes?e.AdSource._attributes.dataType:null,followRedirects:e.AdSource._attributes?e.AdSource._attributes.followRedirects:null,customAdData:e.AdSource.customAdData},extensions:e.Extensions?this.parseExtensions(e.Extensions.Extension):[],repeatAfter:e._attributes.repeatAfter}},e.prototype.parseVASTAdDataAds=function(e){return{version:e._attributes?e._attributes.version:null,ads:this.parseAd(e.Ad)}},e.prototype.parseAd=function(e){return console.log(e.InLine),[{id:e._attributes.id,adSystem:{version:e.InLine.AdSystem._attributes?e.InLine.AdSystem._attributes.version:null,name:e.InLine.AdSystem._cdata},adTitle:e.InLine.AdTitle._cdata,adType:b.inline,extensions:e.InLine.Extensions.Extension?this.parseExtensions(e.InLine.Extensions.Extension):[],creative:this.parseCreative(e.InLine.Creatives.Creative),error:e.InLine.Error?e.InLine.Error._text:null,sequence:e.InLine.Sequence?e.InLine.Sequence._text:null,description:e.InLine.Description._text,advertiser:e.InLine.Advertiser?e.InLine.Advertiser._text:null,pricing:{value:e.InLine.Pricing._text,currency:e.InLine.Pricing._attributes?e.InLine.Pricing._attributes.currency:null,model:e.InLine.Pricing._attributes?e.InLine.Pricing._attributes.model:null},survey:e.InLine.Survey._text||e.InLine.Survey._cdata,impressions:e.InLine.Impression?this.parseImpression(e.InLine.Impression):[]}]},e.prototype.parseCreative=function(e){var t=this,i=e;Array.isArray(e)||(i=[e]);var n=[];return i.forEach(function(e){var i={id:e._attributes?e._attributes.id:null,adID:e._attributes?e._attributes.AdID:null,sequence:e._attributes?e._attributes.sequence:null,skipoffset:e.Linear._attributes.skipoffset,trackings:t.parseTrackingEvents(e.Linear.TrackingEvents.Tracking),videoClicks:t.parseVideoClicks(e.Linear.VideoClicks),extensions:e.CreativeExtensions,mediaFiles:t.parseMediaFile(e.Linear.MediaFiles.MediaFile),duration:e.Linear.Duration._text,creativeType:w.linear};n.push(i)}),n},e.prototype.parseMediaFile=function(e){var t=e;Array.isArray(e)||(t=[e]);var i=[];return t.forEach(function(e){var t={id:e._attributes?e._attributes.id:null,height:e._attributes?e._attributes.height:null,width:e._attributes?e._attributes.width:null,delivery:e._attributes?e._attributes.delivery:null,codec:e._attributes?e._attributes.codec:null,mimetype:e._attributes?e._attributes.type:null,apiFramework:e._attributes?e._attributes.apiFramework:null,bitrate:e._attributes?e._attributes.bitrate:null,minBitrate:e._attributes?e._attributes.minBitrate:null,maxBitrate:e._attributes?e._attributes.maxBitrate:null,scalable:e._attributes?e._attributes.scalable:null,maintainAspectRatio:e._attributes?e._attributes.maintainAspectRatio:null,uri:e._cdata};i.push(t)}),i},e.prototype.parseTrackingEvents=function(e){var t=e;Array.isArray(e)||(t=[e]);var i=[];return t.forEach(function(e){var t={uri:e._cdata,event:e._attributes?e._attributes.event:null};i.push(t)}),i},e.prototype.parseVideoClicks=function(e){var t={clickTrackings:[],clickThrough:{uri:"",id:""}};if(e.ClickThrough&&(t.clickThrough={uri:e.ClickThrough._cdata,id:e.ClickThrough._attributes?e.ClickThrough._attributes.id:null}),e.clickTrackings){var i=e.clickTrackings;Array.isArray(e.clickTrackings)||(i=[i]),t.clickTrackings=[],i.forEach(function(e){t.clickTrackings&&t.clickTrackings.push({uri:e._cdata,id:e._attributes?e._attributes.id:null})})}if(e.customClicks){var n=e.customClicks;Array.isArray(e.customClicks)||(n=[n]),t.customClicks=[],n.forEach(function(e){t.customClicks&&t.customClicks.push({uri:e._cdata,id:e._attributes?e._attributes.id:null})})}return t},e.prototype.parseExtensions=function(e){var t=e;Array.isArray(e)||(t=[e]);var i=[];return t.forEach(function(e){var t={value:e._text,extensionType:e._attributes?e._attributes.type:null};i.push(t)}),i},e.prototype.parseImpression=function(e){console.log(e._cdata);var t=e;Array.isArray(e)||(t=[e]);var i=[];return t.forEach(function(e){i.push({uri:e._cdata})}),i},e}(),q=new K;(F=L||(L={})).linear="linear",F.nonlinear="nonlinear",F.display="display",(O=D||(D={})).breakStart="breakStart",O.breakEnd="breakEnd",O.error="error",(M=V||(V={})).VAST3="vast3",M.custom="custom",M.adTagURI="adTagURL",(R=B||(B={})).vast1="vast1",R.vast2="vast2",R.proprietary="proprietary",(U=G||(G={})).vast1="vast1",U.vast2="vast2",U.vast3="vast3",U.proprietary="proprietary";var H=function(){function e(e,t,i){this.div=e,this.src=t,this.config=i}return e.prototype.play=function(){console.log("Play image ad",this.div),this.imageWrapper=this.getImageWrapperElement(),this.div.appendChild(this.imageWrapper),console.log(333333)},e.prototype.stop=function(){this.imageWrapper.remove(),this.div.style.position="",this.div.style.top="",this.div.style.bottom="",this.div.style.left="",this.div.style.right="",this.div.style.zIndex=""},e.prototype.getImageWrapperElement=function(){var e=document.createElement("div"),t=document.createElement("img");return t.src=this.src,t.style.width="100%",t.style.height="100%",e.appendChild(t),this.div.style.position="absolute",this.div.style.top="0px",this.div.style.bottom="0px",this.div.style.left="0px",this.div.style.right="0px",this.div.style.zIndex="100",e.id="vmap-image-wrapper",e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.backgroundColor="#000",e},e}(),j=function(){function e(e,t,i,n){this.lastSrc="",console.debug("create new instance of video player."),this.jwplayer=e,this.div=i,this.player=t,this.src=n}return e.prototype.play=function(){var e=this;console.debug("play ad video player."),this.player.setControls(!1);var t=this.getVideoElement();this.lastSrc=t.currentSrc,this.player.stop(),setTimeout(function(){t.setAttribute("src",e.src),t.pause(),console.log(t.getAttribute("src"),{video:t}),t.play()},1)},e.prototype.skip=function(e){console.debug("skip ad video player.",this.lastSrc);var t=this.getVideoElement();t.setAttribute("src",this.lastSrc),this.player.setControls(!0),e&&(t.pause(),setTimeout(function(){t.currentTime=.1,t.play()},10))},e.prototype.getVideoElement=function(){return this.player.getContainer().getElementsByTagName("video")[0]},e}(),X="https://clickyab.com",Y="ClickYab",W="حذف آگهی",z="مشاهده آگهی",Q="باقیمانده",J=function(){function e(e,t,i,n,r,a){void 0===a&&(a=!1),this.isMobile=window.navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i),this.clickEvent=this.isMobile?"touchstart":"click",this.linkWrapper=!1,console.debug("Create controller overlay instance."),this.div=t,this.player=e,this.title=i,this.src=n,this.skipAfter=r,this.linkWrapper=a}return e.prototype.show=function(){console.debug("Show controller overlay."),this.setTimeLine({position:0,duration:0,type:"start"}),this.overlay=this.getWrapperElement(),this.div.appendChild(this.overlay)},e.prototype.remove=function(){console.debug("Remove controller overlay element."),this.div.setAttribute("style",""),this.div.innerHTML=""},e.prototype.setOnSkip=function(e){this.onSkip=e},e.prototype.setOnEnd=function(e){this.onEnd=e},e.prototype.setOnAdClick=function(e){this.onOpenAdClick=e},e.prototype.getWrapperElement=function(){var e,t=this;return this.linkWrapper?((e=document.createElement("a")).href=this.src,e.target="blank"):e=document.createElement("div"),e.onclick=function(){var e=!1;"function"==typeof t.player.getState&&"playing"===t.player.getState()&&(e=!0),"function"==typeof t.player.played&&t.player.played()&&(e=!0),e?t.player.pause():t.player.play()},this.div.style.position="absolute",this.div.style.top="0px",this.div.style.bottom="0px",this.div.style.left="0px",this.div.style.right="0px",this.div.style.zIndex="100",e.id="vmap-wrapper",e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.appendChild(this.getAdLink(this.title)),e.appendChild(this.getFullScreenButton()),e.appendChild(this.getPauseButton()),e.appendChild(this.getProviderClick()),e.appendChild(this.getTimeLineWrapper()),e.appendChild(this.getShadow()),console.log(this.skipAfter),setTimeout(function(){e.appendChild(t.getSkipAd())},1e3*this.skipAfter),e},e.prototype.setTimeLine=function(e){var t=e.position/e.duration*100;this.playerTimeLine&&(this.playerTimeLine.style.width=t+"%");var i=this.formatDuration(e.duration-e.position+1);this.skipCountDown&&(this.skipCountDown.innerHTML=i+" "+Q)},e.prototype.getSkipElement=function(){var e=document.createElement("span");return this.skipCountDown=e,this.skipCountDown},e.prototype.getTimeLineElement=function(){var e=document.createElement("div");return e.style.height="4px",e.style.position="absolute",e.style.backgroundColor="rgba(238, 187, 59, 1)",e.style.zIndex="999999",e.style.borderRadius="4px",this.playerTimeLine=e,e},e.prototype.getPauseButton=function(){var e=this,t=document.createElement("div");return t.innerHTML='<svg width="15px" height="16px" viewBox="0 0 15 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          \x3c!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch --\x3e\n          <title>pause</title>\n          <desc>Created with Sketch.</desc>\n          <defs></defs> +\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="Artboard" transform="translate(-33.000000, -33.000000)" fill-rule="nonzero" fill="#FAFAFA">\n                  <path d="M33,33 L39,33 L39,49 L33,49 L33,33 Z M41.3266667,33 L47.3266667,33 L47.3266667,49 L41.3266667,49 L41.3266667,33 Z" id="pause"></path>\n              </g>\n          </g>\n      </svg>',t.style.fontSize=(this.isMobile,"13px"),t.style.padding=(this.isMobile,"3px 5px"),t.style.textDecoration="none",t.style.display="block",t.style.position="absolute",t.style.left="10px",t.style.bottom="0px",t.style.textAlign="center",t.style.direction="rtl",t.style.color="rgb(255, 255, 255)",t.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif",t.style.zIndex="214783647",t.style.marginRight="0px",t.style.boxShadow="0px",t.onclick=function(t){t.stopPropagation(),e.player.pause()},t},e.prototype.getFullScreenButton=function(){var e=this,t=document.createElement("div");return t.innerHTML='<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          \x3c!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch --\x3e\n          <title>fullscreen</title>\n          <desc>Created with Sketch.</desc>\n          <defs></defs>\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="Artboard" transform="translate(-33.000000, -265.000000)" fill-rule="nonzero" fill="#FAFAFA">\n                  <path d="M33,275.666667 L38.3333333,275.666667 L38.3333333,281 L33,281 L33,275.666667 Z M49,265 L49,281 L41,281 L41,278.333333 L46.3333333,278.333333 L46.3333333,267.666667 L35.6666667,267.666667 L35.6666667,273 L33,273 L33,265 L49,265 Z" id="fullscreen"></path>\n              </g>\n          </g>\n      </svg>',t.style.fontSize=(this.isMobile,"13px"),t.style.padding=(this.isMobile,"3px 5px"),t.style.textDecoration="none",t.style.display="block",t.style.position="absolute",t.style.right="10px",t.style.bottom="0px",t.style.textAlign="center",t.style.direction="rtl",t.style.color="rgb(255, 255, 255)",t.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif",t.style.zIndex="214783647",t.style.marginRight="0px",t.style.boxShadow="0px",t.onclick=function(t){t.stopPropagation(),e.player.setFullscreen(!e.player.getFullscreen())},t},e.prototype.getProviderClick=function(){var e=this,t=document.createElement("div");return t.innerHTML='<a style="position: relative; top: 2px; text-decoration: none" target="_blank" href="'+X+'" alt="'+Y+'">\n      <svg width="14px" height="14px" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="Artboard" transform="translate(-885.000000, -64.000000)" fill-rule="nonzero" fill="#FFFFFF">\n                  <path d="M892,64 C888.134007,64 885,67.1340068 885,71 C885,74.8659932 888.134007,78 892,78 C895.865993,78 899,74.8659932 899,71 C899,69.1434846 898.262502,67.3630072 896.949747,66.0502525 C895.636993,64.7374979 893.856515,64 892,64 Z M892.875,74.71875 L891.125,74.71875 L891.125,70.34375 L892.875,70.34375 L892.875,74.71875 Z M892.875,69.03125 L891.125,69.03125 L891.125,67.28125 L892.875,67.28125 L892.875,69.03125 Z" id="info"></path>\n              </g>\n          </g>\n      </svg>\n    </a>',t.appendChild(this.getSkipElement()),t.style.fontSize=(this.isMobile,"13px"),t.style.padding=(this.isMobile,"3px 5px"),t.style.textDecoration="none",t.style.display="block",t.style.position="absolute",t.style.right="10px",t.style.bottom="45px",t.style.textAlign="center",t.style.direction="rtl",t.style.color="rgb(255, 255, 255)",t.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif",t.style.zIndex="214783647",t.style.marginRight="0px",t.style.boxShadow="0px",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.onclick=function(t){t.stopPropagation(),"playing"===e.player.getState()&&e.player.pause()},t},e.prototype.getAdLink=function(e){var t=this,i=document.createElement("a");return i.href=this.src,i.target="_blank",i.innerHTML='<span style="margin-left: 3px"><svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <title>external link</title>\n          <desc>Created with Sketch.</desc>\n          <defs></defs>\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="Artboard" transform="translate(-886.000000, -95.000000)" fill-rule="nonzero" fill="#FFFFFF">\n                  <path d="M897.397841,95 C897.704317,95 897.952696,95.2483788 897.952696,95.5548548 L897.952696,99.3770099 C897.952696,99.6834858 897.704317,99.9318646 897.397841,99.9318646 C897.091365,99.9318646 896.842987,99.6834858 896.842987,99.3770099 L896.842987,96.9558497 L891.459403,102.339566 C891.35107,102.447899 891.209025,102.502132 891.067114,102.502132 C890.925202,102.502132 890.783157,102.447899 890.674825,102.339566 C890.458026,102.122901 890.458026,101.77152 890.674825,101.554855 L896.11997,96.1097095 L893.575553,96.1097095 C893.269077,96.1097095 893.020698,95.8613307 893.020698,95.5548548 C893.020698,95.2483788 893.269077,95 893.575553,95 L897.397841,95 Z M895.478636,100.58799 C895.785111,100.58799 896.03349,100.836502 896.03349,101.142844 L896.03349,105.520387 C896.03349,106.33628 895.36977,107 894.553878,107 L887.479613,107 C886.66372,107 886,106.33628 886,105.520387 L886,98.4461224 C886,97.6302301 886.66372,96.9665097 887.479613,96.9665097 L891.872613,96.9665097 C892.179089,96.9665097 892.427467,97.2148885 892.427467,97.5213645 C892.427467,97.8278405 892.179089,98.0762192 891.872613,98.0762192 L887.479613,98.0762192 C887.279071,98.0762192 887.10971,98.2455805 887.10971,98.4461224 L887.10971,105.520387 C887.10971,105.720929 887.279071,105.89029 887.479613,105.89029 L894.553878,105.89029 C894.754419,105.89029 894.923781,105.720929 894.923781,105.520387 L894.923781,101.142844 C894.923781,100.836368 895.17216,100.58799 895.478636,100.58799 Z" id="external-link"></path>\n              </g>\n          </g>\n      </svg></span>'+(e||z),i.style.fontSize=this.isMobile?"13px":"14px",i.style.padding="3px 5px",i.style.textDecoration="none",i.style.display="block",i.style.position="absolute",i.style.right="10px",i.style.bottom="75px",i.style.textAlign="center",i.style.direction="rtl",i.style.color="rgb(255, 255, 255)",i.style.backgroundColor="rgba(0, 0, 0, 0.7)",i.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif",i.style.zIndex="1999999",i.style.cursor="pointer",i.style.marginRight="0px",i.style.boxShadow="0px",i.onclick=function(e){e.stopPropagation(),t.onOpenAdClick&&t.onOpenAdClick()},i},e.prototype.getSkipAd=function(){var e=this,t=document.createElement("div");return t.style.fontSize=(this.isMobile,"13px"),t.style.padding=(this.isMobile,"7px 25px 8px 25px"),t.style.textDecoration="none",t.style.display="block",t.style.position="absolute",t.style.left="-1px",t.style.bottom=(this.isMobile,"50px"),t.style.textAlign="center",t.style.direction="rtl",t.style.color="rgba(255, 255, 255,1)",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif",t.style.zIndex="1999999",t.style.cursor="pointer",t.style.marginRight="0px",t.style.marginRight="0px",t.style.border="1px solid rgba(255,255,255, 0.20)",t.innerText=W,t.onclick=function(t){t.preventDefault(),console.debug("skip ad."),e.onSkip&&e.onSkip()},t},e.prototype.getTimeLineWrapper=function(){var e=document.createElement("div");return e.style.width="96%",e.style.margin="2%",e.style.bottom="20px",e.style.position="absolute",e.style.height="4px",e.style.borderRadius="4px",e.style.backgroundColor="rgba(255, 255, 255, 0.4)",e.appendChild(this.getTimeLineElement()),e},e.prototype.getShadow=function(){var e=document.createElement("div");return e.setAttribute("class","shadowOverlay"),e.style.position="absolute",e.style.left="0",e.style.width="100%",e.style.height="15%",e.style.bottom="0",e.style.zIndex="999998",e.style.backgroundImage="-moz-linear-gradient(-90deg, rgba(0,0,0,0.00) 0%, #000000 100%)",e.style.backgroundImage="-webkit-linear-gradient(-90deg, rgba(0,0,0,0.00) 0%, #000000 100%)",e.style.backgroundImage="-ms-linear-gradient(-90deg, rgba(0,0,0,0.00) 0%, #000000 100%)",e.style.backgroundImage="-o-linear-gradient(-90deg, rgba(0,0,0,0.00) 0%, #000000 100%)",e.style.backgroundImage="linear-gradient(-90deg, rgba(0,0,0,0.00) 0%, #000000 100%)",e},e.prototype.formatDuration=function(e){var t=parseInt(e.toString(),10).toString(),i=Math.floor(parseInt(t,10)/3600).toString(),n=Math.floor((parseInt(t,10)-3600*parseInt(i,10))/60).toString(),r=(parseInt(t,10)-3600*parseInt(i,10)-60*parseInt(n,10)).toString();return parseInt(i,10)<10&&(i="0"+i),parseInt(n,10)<10&&(n="0"+n),parseInt(r,10)<10&&(r="0"+r),n+":"+r},e}(),Z=function(){function e(e,t,i,n){this.adIsShowing=!1,console.debug("Init JwPlayer Vast Plugin Class."),this.jwPlayerIns=e,this.config=t,this.player=i,this.div=n}return e.prototype.setup=function(){var e=this;console.debug("Setting JwPlayer Vast Plugin up."),this.loadVMAP().then(function(t){e.VMAP=t,console.debug("VMAP object is loaded",t),e.player.onTime(e.timeController.bind(e)),e.player.onComplete(function(){e.onVideoEnd(!1)})})},e.prototype.timeController=function(e){this.overlayController.setTimeLine(e)},e.prototype.onVideoEnd=function(e){var t=this;this.overlayController.remove(),this.adIsShowing?(e||this.callCompleteViewApi(),setTimeout(function(){t.adIsShowing=!1},2e3),"start"===this.currentAdBreak.timeOffset?this.videoPlayer?(this.videoPlayer.skip(!0),this.videoPlayer=null):this.imagePlayer&&(this.player.play(),this.imagePlayer.stop(),this.imagePlayer=null):"end"===this.currentAdBreak.timeOffset&&(this.videoPlayer?(this.videoPlayer.skip(!1),this.videoPlayer=null):this.imagePlayer&&(this.imagePlayer.stop(),this.imagePlayer=null))):!1===e&&this.showEndLinerAd()},e.prototype.callCompleteViewApi=function(){var e=this;if(console.debug("Call complete view api"),!this.callCompleteViewApiLock){this.callCompleteViewApiLock=!0,setTimeout(function(){e.callCompleteViewApiLock=!1},2e3);var t=this.currentAdBreak.adSource.VASTAdData.ads[0].creative[0],i=t.trackings.findIndex(function(e){return"complete"===e.event});if(-1!==i&&"video/mp4"===this.currentAdBreak.adSource.VASTAdData.ads[0].creative[0].mediaFiles[0].mimetype){console.debug("Call complete view api with url: ",t.trackings[i].uri);var n=new XMLHttpRequest;n.open("get",t.trackings[i].uri),n.send()}}},e.prototype.callImpressionAdi=function(){var e=this;if(console.debug("Call impression api"),!this.callImpressionViewApiLock){this.callImpressionViewApiLock=!0,setTimeout(function(){e.callImpressionViewApiLock=!1},2e3);var t=this.currentAdBreak.adSource.VASTAdData.ads[0].impressions[0];if(t){console.debug("Call impression api with url: ",t.uri);var i=new XMLHttpRequest;i.open("get",t.uri),i.send()}}},e.prototype.showStartLinearAd=function(){var e=this;console.debug("show start liner ad");var t=!1;this.adIsShowing||(this.adIsShowing=!0,this.player.getPosition()>=.1||this.VMAP.breaks.forEach(function(i){i.breakTypes[0]!==L.linear||"start"!==i.timeOffset||t||(e.showAd(i),t=!0)}))},e.prototype.showEndLinerAd=function(){var e=this,t=!1;this.adIsShowing||(this.adIsShowing=!0,this.VMAP.breaks.forEach(function(i){i.breakTypes[0]!==L.linear||"end"!==i.timeOffset||t||(e.showAd(i),t=!0)}))},e.prototype.loadVMAP=function(e){return void 0===e&&(e=this.config.tag),console.debug("Try to load JwPlayer VMAP from "+e),new Promise(function(t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=q.JSON(n.responseText);console.debug("VMAP loaded:",e),t(e)}},n.onerror=function(t){throw i(),new Error("Failed to load JwPlayer VMAP from "+e)},n.open("GET",e),n.send()})},e.prototype.showAd=function(e){switch(console.debug("show ad break",e),this.currentAdBreak=e,e.breakTypes[0]){case L.linear:var t=e.adSource.VASTAdData.ads[0].creative[0].mediaFiles[0];switch(t.mimetype){case C.IMAGE_GIF:case C.IMAGE_JPEG:case C.IMAGE_PNG:this.showImagePlayer(e.adSource.VASTAdData.ads[0],e);break;case C.VIDEO_MP4:this.showVideoPlayer(e.adSource.VASTAdData.ads[0],e);break;default:throw new Error('Media file type "'+t.mimetype+'" is not support.')}break;default:throw new Error('AdBreak type "'+this.VMAP.breaks[0].breakTypes[0]+'" is not support.')}},e.prototype.showImagePlayer=function(e,t){var i=this,n=e.creative[0].videoClicks.clickThrough.uri,r=t.extensions?t.extensions.findIndex(function(e){return"domain"===e.extensionType}):-1,a=t.extensions?t.extensions.findIndex(function(e){return"skip"===e.extensionType}):-1;this.imagePlayer=new H(this.div,e.creative[0].mediaFiles[0].uri,{}),this.imagePlayer.play(),this.player.stop(),this.overlayController=new J(this.player,this.div,r>-1&&t.extensions?t.extensions[r].value.toString():"",n,a>-1&&t.extensions?parseInt(t.extensions[a].value.toString(),10):1e3,!0);var s=parseInt(e.creative[0].duration.replace(new RegExp(":","g"),""),10),o=0,l=setInterval(function(){if(++o-s>0)return i.onVideoEnd(!1),void(o&&clearInterval(l));i.overlayController.setTimeLine({duration:s,position:o,type:"time"})},1e3);this.overlayController.setOnSkip(function(){i.onVideoEnd(!0),i.overlayController.remove(),o&&clearInterval(l)}),this.overlayController.show(),this.callImpressionAdi()},e.prototype.showVideoPlayer=function(e,t){var i=this;console.debug("show video ad",e);var n=e.creative[0].videoClicks.clickThrough.uri,r=t.extensions?t.extensions.findIndex(function(e){return"domain"===e.extensionType}):-1,a=t.extensions?t.extensions.findIndex(function(e){return"skip"===e.extensionType}):-1;this.videoPlayer=new j(this.jwPlayerIns,this.player,this.div,e.creative[0].mediaFiles[0].uri),this.overlayController=new J(this.player,this.div,r>-1&&t.extensions?t.extensions[r].value.toString():"",n,a>-1&&t.extensions?parseInt(t.extensions[a].value.toString(),10):1e3),this.overlayController.setOnSkip(function(){i.onVideoEnd(!0),i.overlayController.remove()}),this.videoPlayer.play(),this.overlayController.show(),this.callImpressionAdi()},e}();function $(){if(console.debug("Init JwPlayer Vast Plugin."),jwplayer){jwplayer("").registerPlugin("vmap","6.0",function(e,t,i){var n=e.getConfig(),r=new Z(jwplayer,n.advertising,e,i);e.onReady(function(){}),e.onPlay(function(){r.showStartLinearAd()}),e.onPlaylistItem(function(){r.setup()})})}}module&&module.exports||$();var ee=function(){function e(e,t,i){this.lastSrc="",console.debug("create new instance of video player."),this.div=t,this.player=e,this.src=i}return e.prototype.play=function(){var e=this;console.debug("play ad video player."),this.player.controls(!1);var t=this.getVideoElement();this.lastSrc=t.currentSrc,this.player.pause(),setTimeout(function(){t.setAttribute("src",e.src),t.pause(),console.log(t.getAttribute("src"),{video:t}),t.play()},1)},e.prototype.skip=function(e){console.debug("skip ad video player.",this.lastSrc);var t=this.getVideoElement();t.setAttribute("src",this.lastSrc),this.player.controls(!0),e&&(t.pause(),setTimeout(function(){t.currentTime=.1,t.play()},10))},e.prototype.getVideoElement=function(){return console.log({a:this.div}),(this.div.parentElement||document.createElement("div")).getElementsByTagName("video")[0]},e}(),te=function(){function e(e,t,i){this.adIsShowing=!1,this.timerLock=0,this.mainVideoEnded=!1,console.debug("Init JwPlayer Vast Plugin Class."),this.player=e,this.config=t,this.div=i}return e.prototype.setup=function(){var e=this;console.debug("Setting JwPlayer Vast Plugin up."),this.loadVMAP().then(function(t){e.VMAP=t,console.debug("VMAP object is loaded",t),e.player.on("timeupdate",function(){e.timeController()}),e.player.on("play",function(){e.mainVideoEnded&&e.currentAdBreak&&"end"===e.currentAdBreak.timeOffset&&(e.mainVideoEnded=!1,e.adIsShowing=!1,e.showStartLinearAd())})})},e.prototype.timeController=function(){var e={position:this.player.currentTime(),duration:this.player.duration(),type:"time"};this.timerLock!==e.position-e.duration&&(this.timerLock=e.position-e.duration,e.position-e.duration==0?this.onVideoEnd(!1):this.overlayController&&this.overlayController.setTimeLine(e))},e.prototype.onVideoEnd=function(e){var t=this;this.overlayController&&this.overlayController.remove(),this.adIsShowing?(e||this.callCompleteViewApi(),setTimeout(function(){t.adIsShowing=!1},2e3),"start"===this.currentAdBreak.timeOffset?this.videoPlayer?(this.videoPlayer.skip(!0),this.videoPlayer=null):this.imagePlayer&&(this.imagePlayer.stop(),this.imagePlayer=null,setTimeout(function(){t.player.play()},100)):"end"===this.currentAdBreak.timeOffset&&(this.videoPlayer?(this.videoPlayer.skip(!1),this.videoPlayer=null):this.imagePlayer&&(this.imagePlayer.stop(),this.imagePlayer=null))):!1===e&&setTimeout(function(){t.showEndLinerAd()},100)},e.prototype.callCompleteViewApi=function(){var e=this;if(console.debug("Call complete view api"),!this.callCompleteViewApiLock){this.callCompleteViewApiLock=!0,setTimeout(function(){e.callCompleteViewApiLock=!1},2e3);var t=this.currentAdBreak.adSource.VASTAdData.ads[0].creative[0],i=t.trackings.findIndex(function(e){return"complete"===e.event});if(-1!==i&&"video/mp4"===this.currentAdBreak.adSource.VASTAdData.ads[0].creative[0].mediaFiles[0].mimetype){console.debug("Call complete view api with url: ",t.trackings[i].uri);var n=new XMLHttpRequest;n.open("get",t.trackings[i].uri),n.send()}}},e.prototype.callImpressionAdi=function(){var e=this;if(console.debug("Call impression api"),!this.callImpressionViewApiLock){this.callImpressionViewApiLock=!0,setTimeout(function(){e.callImpressionViewApiLock=!1},2e3);var t=this.currentAdBreak.adSource.VASTAdData.ads[0].impressions[0];if(t){console.debug("Call impression api with url: ",t.uri);var i=new XMLHttpRequest;i.open("get",t.uri),i.send()}}},e.prototype.showStartLinearAd=function(){var e=this;console.debug("show start liner ad");var t=!1;this.adIsShowing||(this.adIsShowing=!0,this.player.currentTime()>=.1||this.VMAP.breaks.forEach(function(i){i.breakTypes[0]!==L.linear||"start"!==i.timeOffset||t||(e.showAd(i),t=!0)}))},e.prototype.showEndLinerAd=function(){var e=this;console.debug("show end liner ad");var t=!1;setTimeout(function(){e.mainVideoEnded=!0},1e3),this.adIsShowing||(this.adIsShowing=!0,this.VMAP.breaks.forEach(function(i){i.breakTypes[0]!==L.linear||"end"!==i.timeOffset||t||(e.showAd(i),t=!0)}))},e.prototype.loadVMAP=function(e){return void 0===e&&(e=this.config.requestUrl),console.debug("Try to load JwPlayer VMAP from "+e),new Promise(function(t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=q.JSON(n.responseText);console.debug("VMAP loaded:",e),t(e)}},n.onerror=function(){throw i(),new Error("Failed to load JwPlayer VMAP from "+e)},n.open("GET",e),n.send()})},e.prototype.showAd=function(e){switch(console.debug("show ad break",e),this.currentAdBreak=e,e.breakTypes[0]){case L.linear:var t=e.adSource.VASTAdData.ads[0].creative[0].mediaFiles[0];switch(t.mimetype){case C.IMAGE_GIF:case C.IMAGE_JPEG:case C.IMAGE_PNG:this.showImagePlayer(e.adSource.VASTAdData.ads[0],e);break;case C.VIDEO_MP4:this.showVideoPlayer(e.adSource.VASTAdData.ads[0],e);break;default:throw new Error('Media file type "'+t.mimetype+'" is not support.')}break;default:throw new Error('AdBreak type "'+this.VMAP.breaks[0].breakTypes[0]+'" is not support.')}},e.prototype.showImagePlayer=function(e,t){var i=this;console.debug("show image player",e,t);var n=e.creative[0].videoClicks.clickThrough.uri,r=t.extensions?t.extensions.findIndex(function(e){return"domain"===e.extensionType}):-1,a=t.extensions?t.extensions.findIndex(function(e){return"skip"===e.extensionType}):-1;this.imagePlayer=new H(this.div,e.creative[0].mediaFiles[0].uri,{}),this.overlayController=new J(this.player,this.div,r>-1&&t.extensions?t.extensions[r].value.toString():"",n,a>-1&&t.extensions?parseInt(t.extensions[a].value.toString(),10):1e3,!0),this.imagePlayer.play(),this.player.pause();var s=parseInt(e.creative[0].duration.replace(new RegExp(":","g"),""),10),o=0,l=setInterval(function(){if(++o-s>0)return i.imagePlayer&&i.imagePlayer.stop(),i.onVideoEnd(!1),void(o&&clearInterval(l));i.overlayController.setTimeLine({duration:s,position:o,type:"time"})},1e3);this.overlayController.setOnSkip(function(){i.imagePlayer&&i.imagePlayer.stop(),i.onVideoEnd(!0),i.overlayController.remove(),o&&clearInterval(l)}),this.overlayController.show(),this.callImpressionAdi()},e.prototype.showVideoPlayer=function(e,t){var i=this;console.debug("show video ad",e);var n=e.creative[0].videoClicks.clickThrough.uri,r=t.extensions?t.extensions.findIndex(function(e){return"domain"===e.extensionType}):-1,a=t.extensions?t.extensions.findIndex(function(e){return"skip"===e.extensionType}):-1;this.videoPlayer=new ee(this.player,this.div,e.creative[0].mediaFiles[0].uri),this.overlayController=new J(this.player,this.div,r>-1&&t.extensions?t.extensions[r].value.toString():"",n,a>-1&&t.extensions?parseInt(t.extensions[a].value.toString(),10):1e3),this.overlayController.setOnSkip(function(){i.onVideoEnd(!0),i.overlayController.remove()}),this.videoPlayer.play(),this.overlayController.show(),this.callImpressionAdi()},e}();function ie(e){if(videojs){var t=document.createElement("div");(document.getElementById(this.id())||document.createElement("div")).appendChild(t);var i=new te(this,e,t);this.on("ready",function(){i.setup()});var n=!0;this.on("firstplay",function(){n&&(n=!1,i.showStartLinearAd())})}}return module&&module.exports||videojs.plugin("vmap",ie),{Parser:K,JwPlayer:$,VideoJs:ie}});
//# sourceMappingURL=inedx.js.map
